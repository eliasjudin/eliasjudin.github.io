(function(){function e(e){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}e(function(){const c=document.querySelector(".vl-home-panel--milestones");if(!c)return;const s=c.querySelector(".vl-home-panel-list"),t=c.querySelector(".vl-home-panel-more");if(!s||!t)return;const i=Array.from(s.querySelectorAll(".vl-home-panel-item")),r=c.querySelector(".vl-home-panel-status");if(!i.length){t.hidden=!0,r&&(r.textContent="No milestones available.");return}s.dataset.enhanced="true";const l=parseInt(s.dataset.initial||"",10),a=Number.isFinite(l)&&l>0?l:i.length,n=Math.ceil(i.length/a);let e=0,o="forward";const d=()=>{const t=e*a,n=t+a;i.forEach((e,s)=>{const o=s>=t&&s<n;e.classList.toggle("is-visible",o),o?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true")})},p=e=>{s.dataset.direction=e,s.classList.remove("is-animating"),void s.offsetWidth,s.classList.add("is-animating")},u=()=>{if(!r)return;const t=e*a+1,n=Math.min(t+a-1,i.length);r.textContent=`Showing milestones ${t}â€“${n} of ${i.length}.`},h=()=>{const i=e===0,a=e===n-1,s=o==="backward",r=e>0||s;t.setAttribute("aria-expanded",r?"true":"false"),t.dataset.state=i?"start":a&&!s?"end":s?"rewind":"progress";const c=s?"Show earlier milestones":"Show more milestones",l=s?"show earlier":"show more";t.setAttribute("aria-label",c),t.textContent=l};if(n<=1){d(),u(),t.hidden=!0;return}const m=()=>{let t=o;if(o==="forward")if(e>=n-1){if(n===1)return;o="backward",t="backward",e=Math.max(0,e-1)}else e=Math.min(n-1,e+1),e>=n-1&&(o="backward");else if(e<=0){if(o="forward",t="forward",n===1)return;e=Math.min(n-1,e+1)}else e=Math.max(0,e-1),e<=0&&(o="forward"),t="backward";d(),p(t),h(),u()};t.addEventListener("click",function(e){e.preventDefault(),m()});const f=t.tagName?t.tagName.toUpperCase():"",g=f==="BUTTON"||f==="INPUT"&&t.type==="button";g||t.addEventListener("keydown",function(e){(e.key===" "||e.key==="Spacebar"||e.key==="Space"||e.key==="Enter")&&(e.preventDefault(),m())}),d(),h(),u()})})()